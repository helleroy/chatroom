<link rel="import" href="packages/polymer/polymer.html">
<link rel="import" href="messagelist.html">
<link rel="import" href="userlist.html">

<polymer-element name="chatroom-client">
    <template>
        <template if="{{!connected}}">
            <form on-submit="{{connect}}">
                <label>
                    Username:
                    <input type="text" value="{{username}}" required>
                </label>
                <button type="submit">Connect</button>
            </form>
        </template>
        <template if="{{connected}}">
            <form on-submit="{{submitMessage}}">
                <label>
                    Write message:
                    <input type="text" value="{{message}}"/>
                </label>
                <button type="submit">Send</button>
            </form>
            <message-list messages="{{messages}}"></message-list>
            <user-list users="{{users}}"></user-list>
        </template>
    </template>
    <script type="application/dart" src="chatroomclient.dart"></script>
</polymer-element>
